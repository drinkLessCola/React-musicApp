{"ast":null,"code":"import _defineProperty from\"E:/js/react/music-app/React-musicApp/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";// 纯函数\n/**\r\n * \r\n * @param {*} preState 之前的状态\r\n * @param {*} action 动作对象\r\n */var initState={songList:[],curIdx:0,song:null};// preState == undefined 初始化\nexport default function searchReducer(){var preState=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initState;var action=arguments.length>1?arguments[1]:undefined;console.log(preState,action);var type=action.type,data=action.data;switch(type){case'updateData':return Object.assign({},preState,_defineProperty({},data.type,data.data[data.type]));case'addSong':var songList=preState.songList,curIdx=preState.curIdx;console.log('addSong',songList,data);// 这两句要分开写！！\nvar newSongList=Array.from(songList);newSongList.splice(curIdx,0,data);console.log('#',newSongList);return Object.assign({},preState,{songList:newSongList,curIdx:curIdx+1,song:data});case'getSinger':;break;case'getAlbums':;break;default:return preState;}}","map":{"version":3,"sources":["E:/js/react/music-app/React-musicApp/src/Redux/searchReducer.js"],"names":["initState","songList","curIdx","song","searchReducer","preState","action","console","log","type","data","Object","assign","newSongList","Array","from","splice"],"mappings":"4HAAA;AAEA;AACA;AACA;AACA;AACA,GACA,GAAMA,CAAAA,SAAS,CAAG,CAChBC,QAAQ,CAAE,EADM,CAEhBC,MAAM,CAAE,CAFQ,CAGhBC,IAAI,CAAC,IAHW,CAAlB,CAKA;AACA,cAAe,SAASC,CAAAA,aAAT,EAAqD,IAA9BC,CAAAA,QAA8B,2DAAnBL,SAAmB,IAARM,CAAAA,MAAQ,2CAClEC,OAAO,CAACC,GAAR,CAAYH,QAAZ,CAAsBC,MAAtB,EACA,GAAQG,CAAAA,IAAR,CAAuBH,MAAvB,CAAQG,IAAR,CAAcC,IAAd,CAAuBJ,MAAvB,CAAcI,IAAd,CACA,OAAQD,IAAR,EACE,IAAK,YAAL,CACE,MAAOE,CAAAA,MAAM,CAACC,MAAP,CAAc,EAAd,CAAkBP,QAAlB,oBAEFK,IAAI,CAACD,IAFH,CAEUC,IAAI,CAACA,IAAL,CAAUA,IAAI,CAACD,IAAf,CAFV,EAAP,CAIF,IAAK,SAAL,CACE,GAAQR,CAAAA,QAAR,CAA6BI,QAA7B,CAAQJ,QAAR,CAAkBC,MAAlB,CAA6BG,QAA7B,CAAkBH,MAAlB,CACAK,OAAO,CAACC,GAAR,CAAY,SAAZ,CAAuBP,QAAvB,CAAkCS,IAAlC,EACA;AACA,GAAIG,CAAAA,WAAW,CAAGC,KAAK,CAACC,IAAN,CAAWd,QAAX,CAAlB,CACAY,WAAW,CAACG,MAAZ,CAAmBd,MAAnB,CAA2B,CAA3B,CAA8BQ,IAA9B,EAEAH,OAAO,CAACC,GAAR,CAAY,GAAZ,CAAiBK,WAAjB,EACA,MAAOF,CAAAA,MAAM,CAACC,MAAP,CAAc,EAAd,CAAkBP,QAAlB,CACL,CACEJ,QAAQ,CAAEY,WADZ,CAEEX,MAAM,CAAEA,MAAM,CAAG,CAFnB,CAGEC,IAAI,CAACO,IAHP,CADK,CAAP,CAMF,IAAK,WAAL,CAAkB,CAAE,MACpB,IAAK,WAAL,CAAkB,CAAE,MACpB,QACE,MAAOL,CAAAA,QAAP,CAvBJ,CAyBD","sourcesContent":["// 纯函数\r\n\r\n/**\r\n * \r\n * @param {*} preState 之前的状态\r\n * @param {*} action 动作对象\r\n */\r\nconst initState = {\r\n  songList: [],\r\n  curIdx: 0,\r\n  song:null\r\n};\r\n// preState == undefined 初始化\r\nexport default function searchReducer(preState = initState, action) {\r\n  console.log(preState, action)\r\n  const { type, data } = action;\r\n  switch (type) {\r\n    case 'updateData':\r\n      return Object.assign({}, preState,\r\n        {\r\n          [data.type]: data.data[data.type],\r\n        })\r\n    case 'addSong':\r\n      const { songList, curIdx } = preState;\r\n      console.log('addSong', songList , data);\r\n      // 这两句要分开写！！\r\n      let newSongList = Array.from(songList)\r\n      newSongList.splice(curIdx, 0, data);\r\n\r\n      console.log('#', newSongList)\r\n      return Object.assign({}, preState,\r\n        {\r\n          songList: newSongList,\r\n          curIdx: curIdx + 1,\r\n          song:data\r\n        });\r\n    case 'getSinger': ; break;\r\n    case 'getAlbums': ; break;\r\n    default:\r\n      return preState;\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}