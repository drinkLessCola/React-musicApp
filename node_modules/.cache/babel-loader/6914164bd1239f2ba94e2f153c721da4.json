{"ast":null,"code":"var _jsxFileName = \"E:\\\\js\\\\react\\\\music-app\\\\React-musicApp\\\\src\\\\Component\\\\Main\\\\SongListPage\\\\Songs\\\\index.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Liked from '../../../../Liked';\nimport MenuContext from '../../../../Context/MenuContext';\nimport './index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Songs(props) {\n  console.log('--------MAIN -> SONGS render---------');\n\n  const timeFormat = function (time) {\n    time = Math.floor(time / 1000);\n    let min = Math.floor(time / 60),\n        sec = time % 60;\n    return (\"0\" + min).slice(-2) + \":\" + (\"0\" + sec).slice(-2);\n  };\n\n  console.log(props.likedSongs);\n  console.log(\"Songs\", props);\n  const {\n    songs,\n    replaceList\n  } = props;\n  /* 菜单项 */\n\n  function playSong() {}\n\n  const menuItems = /*#__PURE__*/_jsxDEV(\"ul\", {\n    children: [/*#__PURE__*/_jsxDEV(\"li\", {\n      onClick: playSong,\n      children: \"\\u64AD\\u653E\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n      children: \"\\u4E0B\\u4E00\\u9996\\u64AD\\u653E\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n      children: \"\\u6536\\u85CF\\u5230\\u6B4C\\u5355\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 22\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(\"table\", {\n    className: \"SongListPageSongs\",\n    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n          className: \"list-idx\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          className: \"list-func\",\n          children: \"\\u64CD\\u4F5C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          className: \"list-name\",\n          children: \"\\u6807\\u9898\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          className: \"list-artists\",\n          children: \"\\u6B4C\\u624B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          className: \"list-album\",\n          children: \"\\u4E13\\u8F91\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          className: \"list-time\",\n          children: \"\\u65F6\\u95F4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MenuContext.Consumer, {\n      children: _ref => {\n        let {\n          toggleMenu\n        } = _ref;\n        return /*#__PURE__*/_jsxDEV(\"tbody\", {\n          onDoubleClick: replaceList,\n          onContextMenu: toggleMenu.bind(null, menuItems),\n          children: songs && songs.map((s, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            id: idx,\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"list-idx\",\n              children: (idx < 9 ? \"0\" : \"\") + (idx + 1)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"list-func\",\n              children: /*#__PURE__*/_jsxDEV(Liked, {\n                like: props.likedSongs.has(s.id)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 48,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"list-name\",\n              children: s.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"list-artists\",\n              children: s.ar.reduce((res, a) => (res == '' ? '' : res + ' / ') + a.name, \"\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"list-album\",\n              children: s.al.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"list-time\",\n              children: timeFormat(s.dt)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 17\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n}\n\n_c = Songs;\nexport default connect(state => ({\n  likedSongs: new Set(state.likedList)\n}), {})(Songs);\n\nvar _c;\n\n$RefreshReg$(_c, \"Songs\");","map":{"version":3,"sources":["E:/js/react/music-app/React-musicApp/src/Component/Main/SongListPage/Songs/index.jsx"],"names":["React","Component","connect","Liked","MenuContext","Songs","props","console","log","timeFormat","time","Math","floor","min","sec","slice","likedSongs","songs","replaceList","playSong","menuItems","toggleMenu","bind","map","s","idx","has","id","name","ar","reduce","res","a","al","dt","state","Set","likedList"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux';\r\nimport Liked from '../../../../Liked';\r\nimport MenuContext from '../../../../Context/MenuContext';\r\nimport './index.css'\r\n\r\nfunction Songs(props) {\r\n  console.log('--------MAIN -> SONGS render---------')\r\n  const timeFormat = function (time) {\r\n    time = Math.floor(time / 1000);\r\n    let min = Math.floor(time / 60),\r\n      sec = time % 60;\r\n    return (\"0\" + min).slice(-2) + \":\" + (\"0\" + sec).slice(-2);\r\n  }\r\n  console.log(props.likedSongs);\r\n  console.log(\"Songs\",props);\r\n  const { songs, replaceList } = props;\r\n  \r\n  /* 菜单项 */\r\n  function playSong(){\r\n\r\n  }\r\n  const menuItems = (<ul>\r\n    <li onClick={playSong}>播放</li>\r\n    <li>下一首播放</li>\r\n    <li>收藏到歌单</li>\r\n  </ul>)\r\n\r\n  return (\r\n    <table className=\"SongListPageSongs\">\r\n      <thead>\r\n        <tr>\r\n          <th className='list-idx'></th>\r\n          <th className='list-func'>操作</th>\r\n          <th className='list-name'>标题</th>\r\n          <th className='list-artists'>歌手</th>\r\n          <th className='list-album'>专辑</th>\r\n          <th className='list-time'>时间</th>\r\n        </tr>\r\n      </thead>\r\n      <MenuContext.Consumer>\r\n        {({toggleMenu}) => (\r\n          <tbody onDoubleClick={replaceList} onContextMenu={toggleMenu.bind(null,menuItems)}>{\r\n            songs && songs.map((s, idx) => (\r\n              <tr key={idx} id={idx}>\r\n                <td className='list-idx'>{((idx < 9) ? \"0\" : \"\") + (idx + 1)}</td>\r\n                <td className='list-func'>\r\n                  <Liked like={props.likedSongs.has(s.id)} />\r\n                </td>\r\n                <td className='list-name'>{s.name}</td>\r\n                <td className='list-artists'>{s.ar.reduce((res, a) => (res == '' ? '' : res + ' / ') + a.name, \"\")}</td>\r\n                <td className='list-album'>{s.al.name}</td>\r\n                <td className='list-time'>{timeFormat(s.dt)}</td>\r\n              </tr>\r\n            ))\r\n          }</tbody>\r\n        )}\r\n      </MenuContext.Consumer>\r\n    </table>\r\n  );\r\n}\r\n\r\nexport default connect(\r\n  (state)=>({\r\n    likedSongs:new Set(state.likedList)\r\n  }),\r\n  {\r\n\r\n  }\r\n)(Songs)"]},"metadata":{},"sourceType":"module"}