{"ast":null,"code":"import axios from 'axios';\naxios.defaults.baseURL = 'https://netease-cloud-music-api-tawny-nine.vercel.app/';\naxios.defaults.withCredentials = true; // export const getLikedSongsList = (uid) => {\n//   return async (dispatch) => {\n//     let res = await axios(`/likelist?uid=${uid}`)\n//     console.log(res);\n//   }\n// }\n// 添加一首歌到播放列表\n\nexport const addNewSongAction = data => {\n  return async dispatch => {\n    let res = await axios(`/song/detail?ids=${data}`);\n    let lyric = await axios(`/lyric?id=${res.data.songs[0].id}`);\n    console.log(res, '&&&&&lyric', lyric);\n    dispatch({\n      type: 'addSong',\n      data: {\n        song: res.data.songs[0],\n        lyric: lyric.data.lrc.lyric\n      }\n    });\n  };\n};\nexport const getLyricAction = id => {\n  return async dispatch => {\n    let res = await axios(`/lyric?id=${id}`);\n    console.log('lyric', res);\n  };\n}; // 添加整个歌单到播放列表\n\nexport const replaceListAction = (songs, id) => {\n  return async dispatch => {\n    let lyric = await axios(`/lyric?id=${songs[id].id}`);\n    let lyricArr = lyric.data.lrc.lyric.splitmap(l => {\n      l.split('');\n    });\n    dispatch(replaceAction(songs, id));\n    dispatch({\n      type: 'lyric',\n      data: lyric.data.lrc.lyric\n    });\n  };\n};\nexport const replaceAction = (songs, id) => {\n  return {\n    type: 'replaceList',\n    data: {\n      songs,\n      id\n    }\n  };\n}; // 切换播放\n\nexport const shiftAction = (newIdx, id) => {\n  return async dispatch => {\n    let lyric = await axios(`/lyric?id=${id}`);\n    dispatch({\n      type: \"shift\",\n      data: {\n        lyric: lyric.data.lrc.lyric,\n        idx: newIdx\n      }\n    });\n  };\n};\nexport const updateCurTimeAction = cur => {\n  return {\n    type: \"updateCurTime\",\n    data: cur\n  };\n};","map":{"version":3,"sources":["E:/js/react/music-app/React-musicApp/src/Redux/songActions.js"],"names":["axios","defaults","baseURL","withCredentials","addNewSongAction","data","dispatch","res","lyric","songs","id","console","log","type","song","lrc","getLyricAction","replaceListAction","lyricArr","splitmap","l","split","replaceAction","shiftAction","newIdx","idx","updateCurTimeAction","cur"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEAA,KAAK,CAACC,QAAN,CAAeC,OAAf,GAAyB,wDAAzB;AACAF,KAAK,CAACC,QAAN,CAAeE,eAAf,GAAiC,IAAjC,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAMC,gBAAgB,GAAIC,IAAD,IAAU;AACxC,SAAO,MAAOC,QAAP,IAAoB;AACzB,QAAIC,GAAG,GAAG,MAAMP,KAAK,CAAE,oBAAmBK,IAAK,EAA1B,CAArB;AACA,QAAIG,KAAK,GAAG,MAAMR,KAAK,CAAE,aAAYO,GAAG,CAACF,IAAJ,CAASI,KAAT,CAAe,CAAf,EAAkBC,EAAG,EAAnC,CAAvB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYL,GAAZ,EAAiB,YAAjB,EAA+BC,KAA/B;AACAF,IAAAA,QAAQ,CAAC;AAACO,MAAAA,IAAI,EAAC,SAAN;AAAiBR,MAAAA,IAAI,EAAC;AAACS,QAAAA,IAAI,EAACP,GAAG,CAACF,IAAJ,CAASI,KAAT,CAAe,CAAf,CAAN;AAAwBD,QAAAA,KAAK,EAACA,KAAK,CAACH,IAAN,CAAWU,GAAX,CAAeP;AAA7C;AAAtB,KAAD,CAAR;AACD,GALD;AAMD,CAPM;AASP,OAAO,MAAMQ,cAAc,GAAIN,EAAD,IAAQ;AACpC,SAAO,MAAOJ,QAAP,IAAoB;AACzB,QAAIC,GAAG,GAAG,MAAMP,KAAK,CAAE,aAAYU,EAAG,EAAjB,CAArB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBL,GAArB;AACD,GAHD;AAID,CALM,C,CAOP;;AACA,OAAO,MAAMU,iBAAiB,GAAG,CAACR,KAAD,EAAQC,EAAR,KAAe;AAC9C,SAAO,MAAOJ,QAAP,IAAoB;AACzB,QAAIE,KAAK,GAAG,MAAMR,KAAK,CAAE,aAAYS,KAAK,CAACC,EAAD,CAAL,CAAUA,EAAG,EAA3B,CAAvB;AACA,QAAIQ,QAAQ,GAAGV,KAAK,CAACH,IAAN,CAAWU,GAAX,CAAeP,KAAf,CAAqBW,QAArB,CAA+BC,CAAD,IAAO;AAClDA,MAAAA,CAAC,CAACC,KAAF,CAAQ,EAAR;AACD,KAFc,CAAf;AAGAf,IAAAA,QAAQ,CAACgB,aAAa,CAACb,KAAD,EAAQC,EAAR,CAAd,CAAR;AACAJ,IAAAA,QAAQ,CAAC;AAACO,MAAAA,IAAI,EAAC,OAAN;AAAeR,MAAAA,IAAI,EAACG,KAAK,CAACH,IAAN,CAAWU,GAAX,CAAeP;AAAnC,KAAD,CAAR;AACD,GAPD;AAQD,CATM;AAUP,OAAO,MAAMc,aAAa,GAAG,CAACb,KAAD,EAAQC,EAAR,KAAe;AAC1C,SAAO;AACLG,IAAAA,IAAI,EAAC,aADA;AAELR,IAAAA,IAAI,EAAC;AAACI,MAAAA,KAAD;AAAQC,MAAAA;AAAR;AAFA,GAAP;AAID,CALM,C,CAOP;;AACA,OAAO,MAAMa,WAAW,GAAG,CAACC,MAAD,EAASd,EAAT,KAAgB;AACzC,SAAO,MAAOJ,QAAP,IAAoB;AACzB,QAAIE,KAAK,GAAG,MAAMR,KAAK,CAAE,aAAYU,EAAG,EAAjB,CAAvB;AACAJ,IAAAA,QAAQ,CAAC;AAACO,MAAAA,IAAI,EAAC,OAAN;AAAeR,MAAAA,IAAI,EAAC;AAACG,QAAAA,KAAK,EAACA,KAAK,CAACH,IAAN,CAAWU,GAAX,CAAeP,KAAtB;AAA4BiB,QAAAA,GAAG,EAACD;AAAhC;AAApB,KAAD,CAAR;AACD,GAHD;AAID,CALM;AAOP,OAAO,MAAME,mBAAmB,GAAIC,GAAD,IAAS;AAC1C,SAAO;AACLd,IAAAA,IAAI,EAAC,eADA;AAELR,IAAAA,IAAI,EAACsB;AAFA,GAAP;AAID,CALM","sourcesContent":["import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://netease-cloud-music-api-tawny-nine.vercel.app/'\r\naxios.defaults.withCredentials = true\r\n\r\n// export const getLikedSongsList = (uid) => {\r\n//   return async (dispatch) => {\r\n//     let res = await axios(`/likelist?uid=${uid}`)\r\n//     console.log(res);\r\n//   }\r\n// }\r\n// 添加一首歌到播放列表\r\nexport const addNewSongAction = (data) => {\r\n  return async (dispatch) => {\r\n    let res = await axios(`/song/detail?ids=${data}`);\r\n    let lyric = await axios(`/lyric?id=${res.data.songs[0].id}`);\r\n    console.log(res, '&&&&&lyric', lyric)\r\n    dispatch({type:'addSong', data:{song:res.data.songs[0],lyric:lyric.data.lrc.lyric}})\r\n  }\r\n}\r\n\r\nexport const getLyricAction = (id) => {\r\n  return async (dispatch) => {\r\n    let res = await axios(`/lyric?id=${id}`);\r\n    console.log('lyric', res);\r\n  }\r\n}\r\n\r\n// 添加整个歌单到播放列表\r\nexport const replaceListAction = (songs, id) => {\r\n  return async (dispatch) => {\r\n    let lyric = await axios(`/lyric?id=${songs[id].id}`);\r\n    let lyricArr = lyric.data.lrc.lyric.splitmap((l) => {\r\n      l.split('')\r\n    });\r\n    dispatch(replaceAction(songs, id))\r\n    dispatch({type:'lyric', data:lyric.data.lrc.lyric})\r\n  }\r\n}\r\nexport const replaceAction = (songs, id) => {\r\n  return {\r\n    type:'replaceList',\r\n    data:{songs, id}\r\n  }\r\n}\r\n\r\n// 切换播放\r\nexport const shiftAction = (newIdx, id) => {\r\n  return async (dispatch) => {\r\n    let lyric = await axios(`/lyric?id=${id}`);\r\n    dispatch({type:\"shift\", data:{lyric:lyric.data.lrc.lyric,idx:newIdx}})\r\n  }\r\n}\r\n\r\nexport const updateCurTimeAction = (cur) => {\r\n  return {\r\n    type:\"updateCurTime\",\r\n    data:cur\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}