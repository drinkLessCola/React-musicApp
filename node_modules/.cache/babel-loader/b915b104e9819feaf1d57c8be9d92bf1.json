{"ast":null,"code":"var _jsxFileName = \"E:\\\\js\\\\react\\\\music-app\\\\React-musicApp\\\\src\\\\Component\\\\Main\\\\VideoPage\\\\index.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport FullScreenIcon from '../../../Icons/FullScreenIcon';\nimport PauseIcon from '../../../Icons/PauseIcon';\nimport PlayIcon from '../../../Icons/PlayIcon';\nimport SoundIcon from '../../../Icons/SoundIcon';\nimport Progress from '../../Bottom/Progress';\nimport './index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass VideoPage extends Component {\n  constructor() {\n    super(...arguments);\n    this.video = /*#__PURE__*/React.createRef();\n    this.state = {\n      curTime: 0,\n      pause: false,\n      isHandling: false\n    };\n\n    this.handlePause = () => {\n      const {\n        pause\n      } = this.state;\n      if (pause) this.video.current.play();else this.video.current.pause();\n      this.setState(state => ({\n        pause: !state.pause\n      }), () => {\n        console.log('#', this.state.pause);\n      });\n    };\n\n    this.handleTimeUpdate = event => {\n      // cur 传给子组件使用\n      const cur = Math.floor(event.target.currentTime);\n      const {\n        isHandling\n      } = this.state;\n      if (isHandling) return;\n      this.setState({\n        curTime: cur\n      }); // 如果正在调整播放进度，则不改变进度条的长度\n\n      const width = Math.floor(cur / event.target.totalTime * 350) || 0; // 修改 css 变量 感觉会影响性能\n\n      document.documentElement.style.setProperty('--progress-bar-width', width + 'px');\n    };\n\n    this.handleProgressChange = newProgress => {\n      this.audio.current.currentTime = newProgress;\n    };\n\n    this.calcProgress = width => {\n      const newProgress = Math.floor((width || 0) * this.ratio);\n      this.handleProgressChange(newProgress);\n    };\n\n    this.handleMouseDown = event => {\n      // \n      if (this.state.isHandling) return; // 是否是点击事件\n\n      let isClick = true;\n      const that = this;\n      const {\n        time: totalTime\n      } = this.props;\n      const top = event.target.closest('.Progress-slider-top');\n      const bar = event.target.closest('.Progress-slider');\n      const barCoord = bar.getBoundingClientRect(); // 没有点 top，是点击事件\n\n      if (!top) {\n        const width = event.clientX - barCoord.left;\n        this.calcProgress(width);\n        return;\n      }\n\n      const topCoord = top.getBoundingClientRect();\n      this.setState({\n        isHandling: true\n      }); // 鼠标指针点击位置与 top 左上角的 offset\n\n      const start = {\n        x: event.clientX,\n        y: event.clientY\n      };\n      const offset = {\n        x: event.clientX - topCoord.left,\n        y: event.clientY - topCoord.top\n      };\n      document.addEventListener('mousemove', handleMouseMove);\n      document.addEventListener('mouseup', handleMouseUp);\n\n      function handleMouseMove(event) {\n        if (isClick && Math.floor(Math.abs(event.clientX - start.x) * that.ratio) != 0) isClick = false; // 拖拽时只改变 css 变量的值\n\n        let width = event.clientX - barCoord.left;\n        width = width < 350 ? width : 350;\n        width = width > 0 ? width : 0;\n        that.setState({\n          curTime: Math.floor(width * that.ratio)\n        });\n        document.documentElement.style.setProperty('--progress-bar-width', width + 'px');\n      }\n\n      function handleMouseUp(event) {\n        document.removeEventListener('mousemove', handleMouseMove);\n        document.removeEventListener('mouseup', handleMouseUp);\n        that.setState({\n          isHandling: false\n        });\n        const width = event.clientX - barCoord.left;\n        if (!isClick && !event.target.closest('.Progress-slider')) bar.classList.remove('Progress-slider-hover');\n        that.calcProgress(width);\n      }\n    };\n  }\n\n  render() {\n    var _this$props$video, _this$props$video2;\n\n    let url = (_this$props$video = this.props.video) === null || _this$props$video === void 0 ? void 0 : _this$props$video.url;\n    let totalTime = (_this$props$video2 = this.props.video) === null || _this$props$video2 === void 0 ? void 0 : _this$props$video2.duration;\n    url = url ? url : '';\n    totalTime = totalTime ? totalTime : 0;\n    console.log(this.props.video);\n    const {\n      curTime,\n      isHandling,\n      pause\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"VideoPage\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"video-control\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"video\", {\n            width: \"100%\",\n            ref: this.video,\n            src: url,\n            autoPlay: true,\n            preload: \"auto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"video-control-bar\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            onClick: this.handlePause,\n            children: pause ? /*#__PURE__*/_jsxDEV(PlayIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 24\n            }, this) : /*#__PURE__*/_jsxDEV(PauseIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 39\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(Progress, {\n              totalTime: totalTime,\n              curTime: curTime,\n              className: \"Player-progress\",\n              handleProgressChange: this.handleProgressChange,\n              handleMouseDown: this.handleMouseDown // isHandling={isHandling}\n\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(SoundIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(FullScreenIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default connect(state => ({\n  video: state.video\n}), {})(VideoPage);","map":{"version":3,"sources":["E:/js/react/music-app/React-musicApp/src/Component/Main/VideoPage/index.jsx"],"names":["React","Component","connect","FullScreenIcon","PauseIcon","PlayIcon","SoundIcon","Progress","VideoPage","video","createRef","state","curTime","pause","isHandling","handlePause","current","play","setState","console","log","handleTimeUpdate","event","cur","Math","floor","target","currentTime","width","totalTime","document","documentElement","style","setProperty","handleProgressChange","newProgress","audio","calcProgress","ratio","handleMouseDown","isClick","that","time","props","top","closest","bar","barCoord","getBoundingClientRect","clientX","left","topCoord","start","x","y","clientY","offset","addEventListener","handleMouseMove","handleMouseUp","abs","removeEventListener","classList","remove","render","url","duration"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport FullScreenIcon from '../../../Icons/FullScreenIcon';\r\nimport PauseIcon from '../../../Icons/PauseIcon';\r\nimport PlayIcon from '../../../Icons/PlayIcon';\r\nimport SoundIcon from '../../../Icons/SoundIcon';\r\nimport Progress from '../../Bottom/Progress';\r\nimport './index.css';\r\n\r\nclass VideoPage extends Component {\r\n  video = React.createRef();\r\n  state = {\r\n    curTime: 0,\r\n    pause: false,\r\n    isHandling: false,\r\n  }\r\n  handlePause = () => {\r\n    const { pause } = this.state\r\n    if (pause) this.video.current.play();\r\n    else this.video.current.pause();\r\n    this.setState(state => ({\r\n      pause: !state.pause,\r\n    }), () => {\r\n      console.log('#', this.state.pause);\r\n    })\r\n  }\r\n  // 监听播放器进度变化\r\n  handleTimeUpdate = (event) => {\r\n    // cur 传给子组件使用\r\n    const cur = Math.floor(event.target.currentTime);\r\n    const { isHandling } = this.state;\r\n    if (isHandling) return;\r\n    this.setState({\r\n      curTime: cur,\r\n    })\r\n    // 如果正在调整播放进度，则不改变进度条的长度\r\n    const width = Math.floor(cur / event.target.totalTime * 350) || 0;\r\n    // 修改 css 变量 感觉会影响性能\r\n    document.documentElement.style.setProperty('--progress-bar-width', width + 'px');\r\n  }\r\n  // 用户改变 audio 播放进度\r\n  handleProgressChange = (newProgress) => {\r\n    this.audio.current.currentTime = newProgress;\r\n  }\r\n\r\n  calcProgress = (width) => {\r\n    const newProgress = Math.floor((width || 0) * this.ratio);\r\n    this.handleProgressChange(newProgress);\r\n  }\r\n\r\n  handleMouseDown = (event) => {\r\n    // \r\n    if (this.state.isHandling) return;\r\n\r\n    // 是否是点击事件\r\n    let isClick = true;\r\n\r\n    const that = this;\r\n    const { time: totalTime } = this.props;\r\n    const top = event.target.closest('.Progress-slider-top');\r\n    const bar = event.target.closest('.Progress-slider');\r\n    const barCoord = bar.getBoundingClientRect();\r\n    // 没有点 top，是点击事件\r\n    if (!top) {\r\n      const width = event.clientX - barCoord.left;\r\n      this.calcProgress(width);\r\n      return;\r\n    }\r\n\r\n    const topCoord = top.getBoundingClientRect();\r\n    this.setState({\r\n      isHandling: true,\r\n    })\r\n\r\n    // 鼠标指针点击位置与 top 左上角的 offset\r\n    const start = {\r\n      x: event.clientX,\r\n      y: event.clientY\r\n    }\r\n    const offset = {\r\n      x: event.clientX - topCoord.left,\r\n      y: event.clientY - topCoord.top,\r\n    }\r\n\r\n    document.addEventListener('mousemove', handleMouseMove);\r\n    document.addEventListener('mouseup', handleMouseUp);\r\n\r\n    function handleMouseMove(event) {\r\n      if (isClick && Math.floor(Math.abs(event.clientX - start.x) * that.ratio) != 0) isClick = false;\r\n\r\n      // 拖拽时只改变 css 变量的值\r\n      let width = event.clientX - barCoord.left;\r\n      width = width < 350 ? width : 350;\r\n      width = width > 0 ? width : 0;\r\n\r\n      that.setState({\r\n        curTime: Math.floor(width * that.ratio),\r\n      })\r\n      document.documentElement.style.setProperty('--progress-bar-width', width + 'px');\r\n    }\r\n\r\n    function handleMouseUp(event) {\r\n      document.removeEventListener('mousemove', handleMouseMove);\r\n      document.removeEventListener('mouseup', handleMouseUp);\r\n\r\n      that.setState({\r\n        isHandling: false,\r\n      })\r\n      const width = event.clientX - barCoord.left;\r\n\r\n      if (!isClick && !event.target.closest('.Progress-slider')) bar.classList.remove('Progress-slider-hover');\r\n      that.calcProgress(width);\r\n    }\r\n  }\r\n  render() {\r\n    let url = this.props.video?.url;\r\n    let totalTime = this.props.video?.duration;\r\n    url = url ? url : '';\r\n    totalTime = totalTime? totalTime : 0;\r\n    console.log(this.props.video);\r\n    const { curTime, isHandling, pause } = this.state;\r\n    return (\r\n      <div className='VideoPage'>\r\n        <div className='video-control'>\r\n          <div>\r\n            <video width=\"100%\" ref={this.video} src={url} autoPlay preload='auto'></video>\r\n          </div>\r\n          <ul className='video-control-bar'>\r\n            <li onClick={this.handlePause}>\r\n              {pause ? <PlayIcon /> : <PauseIcon />}\r\n            </li>\r\n            <li>\r\n              <Progress\r\n              \r\n                totalTime={totalTime}\r\n                curTime={curTime}\r\n                className=\"Player-progress\"\r\n                handleProgressChange={this.handleProgressChange}\r\n                handleMouseDown={this.handleMouseDown}\r\n              // isHandling={isHandling}\r\n              />\r\n            </li>\r\n            <li><SoundIcon /></li>\r\n            <li><FullScreenIcon /></li>\r\n          </ul>\r\n        </div>\r\n       \r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  state => ({ video: state.video }),\r\n  {}\r\n)(VideoPage)"]},"metadata":{},"sourceType":"module"}