{"ast":null,"code":"import _classCallCheck from\"E:/js/react/music-app/React-musicApp/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"E:/js/react/music-app/React-musicApp/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"E:/js/react/music-app/React-musicApp/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"E:/js/react/music-app/React-musicApp/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{NavLink,Switch,Route}from'react-router-dom';import'./index.css';import SearchResSongs from'./SearchResSongs';import SearchResVideos from'./SearchResVideos';import SearchResArtists from'./SearchResArtists';import{createSearchAction}from'../../../Redux/actions';import{connect}from'react-redux';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var SearchResPage=/*#__PURE__*/function(_Component){_inherits(SearchResPage,_Component);var _super=_createSuper(SearchResPage);function SearchResPage(){var _this;_classCallCheck(this,SearchResPage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={searchData:'Rick and Morty',tab:'songs'};_this.handleClick=function(e){// 比较点击的 tab 与 当前 tab 节流\nvar searchData=_this.props.location.search.split('=')[1];var type=e.target.closest('li').id;if(_this.state.tab==type)return;// 应该把 state 作为一个不可变的变量\n// 方便进行时间回溯\n_this.getData(searchData,type);_this.setState({tab:type});};return _this;}_createClass(SearchResPage,[{key:\"getData\",value:function getData(value,type){console.log('dispatch');this.props.search(type,value);}},{key:\"render\",value:function render(){console.log('page',this.props);var searchData=this.props.location.search.split('=')[1];// const type = this.props.location.pathname.slice(3);\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"SearchResPage\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"\\u641C\\u7D22 \",decodeURIComponent(searchData)]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"Search-Navbar\",onClick:this.handleClick,children:[/*#__PURE__*/_jsx(\"li\",{id:\"songs\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/s/songs?search=\".concat(searchData),children:\"\\u5355\\u66F2\"})}),/*#__PURE__*/_jsx(\"li\",{id:\"artists\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/s/artists?search=\".concat(searchData),children:\"\\u6B4C\\u624B\"})}),/*#__PURE__*/_jsx(\"li\",{id:\"albums\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/s/albums?search=\".concat(searchData),children:\"\\u4E13\\u8F91\"})}),/*#__PURE__*/_jsx(\"li\",{id:\"videos\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/s/videos?search=\".concat(searchData),children:\"\\u89C6\\u9891\"})}),/*#__PURE__*/_jsx(\"li\",{id:\"songlists\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/s/songlists?search=\".concat(searchData),children:\"\\u6B4C\\u5355\"})}),/*#__PURE__*/_jsx(\"li\",{id:\"lyrics\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/s/lyrics?search=\".concat(searchData),children:\"\\u6B4C\\u8BCD\"})}),/*#__PURE__*/_jsx(\"li\",{id:\"users\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/s/users?search=\".concat(searchData),children:\"\\u7528\\u6237\"})})]}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/s/songs\",component:SearchResSongs}),/*#__PURE__*/_jsx(Route,{path:\"/s/artists\",component:SearchResArtists}),/*#__PURE__*/_jsx(Route,{path:\"/s/albums\",component:SearchResVideos}),/*#__PURE__*/_jsx(Route,{path:\"/s/videos\",component:SearchResVideos}),/*#__PURE__*/_jsx(Route,{path:\"/s/songlists\",component:SearchResSongs}),/*#__PURE__*/_jsx(Route,{path:\"/s/lyrics\",component:SearchResSongs}),/*#__PURE__*/_jsx(Route,{path:\"/s/users\",component:SearchResSongs})]})]});}}]);return SearchResPage;}(Component);export default connect(function(state){return{};},{search:createSearchAction})(SearchResPage);","map":{"version":3,"sources":["E:/js/react/music-app/React-musicApp/src/Component/Main/SearchResPage/index.jsx"],"names":["React","Component","NavLink","Switch","Route","SearchResSongs","SearchResVideos","SearchResArtists","createSearchAction","connect","SearchResPage","state","searchData","tab","handleClick","e","props","location","search","split","type","target","closest","id","getData","setState","value","console","log","decodeURIComponent"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { NavLink, Switch, Route } from 'react-router-dom'\r\nimport './index.css';\r\nimport SearchResSongs from './SearchResSongs';\r\nimport SearchResVideos from './SearchResVideos'\r\nimport SearchResArtists from './SearchResArtists';\r\nimport { createSearchAction } from '../../../Redux/actions';\r\nimport { connect } from 'react-redux';\r\n\r\nclass SearchResPage extends Component {\r\n  state = {\r\n    searchData:'Rick and Morty',\r\n    tab:'songs'\r\n  }\r\n  getData(value, type){\r\n    console.log('dispatch');\r\n    this.props.search(type, value);\r\n  }\r\n  handleClick = (e) =>{\r\n    // 比较点击的 tab 与 当前 tab 节流\r\n    const searchData = this.props.location.search.split('=')[1];\r\n    const type = e.target.closest('li').id;\r\n\r\n    if(this.state.tab == type) return;\r\n    // 应该把 state 作为一个不可变的变量\r\n    // 方便进行时间回溯\r\n    this.getData(searchData, type);\r\n    this.setState({\r\n      tab:type\r\n    })\r\n  }\r\n  render() {\r\n    console.log('page',this.props)\r\n    const searchData = this.props.location.search.split('=')[1];\r\n    // const type = this.props.location.pathname.slice(3);\r\n    return (\r\n      <div className='SearchResPage'>\r\n        <h1>搜索 {decodeURIComponent(searchData)}</h1>\r\n        <ul className='Search-Navbar' onClick={this.handleClick}>\r\n          <li id='songs'><NavLink to={`/s/songs?search=${searchData}`}>单曲</NavLink></li>\r\n          <li id='artists'><NavLink to={`/s/artists?search=${searchData}`}>歌手</NavLink></li>\r\n          <li id='albums'><NavLink to={`/s/albums?search=${searchData}`}>专辑</NavLink></li>\r\n          <li id='videos'><NavLink to={`/s/videos?search=${searchData}`}>视频</NavLink></li>\r\n          <li id='songlists'><NavLink to={`/s/songlists?search=${searchData}`}>歌单</NavLink></li>\r\n          <li id='lyrics'><NavLink to={`/s/lyrics?search=${searchData}`}>歌词</NavLink></li>\r\n          <li id='users'><NavLink to={`/s/users?search=${searchData}`}>用户</NavLink></li>\r\n        </ul>\r\n        <Switch>\r\n          <Route path='/s/songs' component={SearchResSongs}></Route>\r\n          <Route path='/s/artists' component={SearchResArtists}></Route>\r\n          <Route path='/s/albums' component={SearchResVideos}></Route>\r\n          <Route path='/s/videos' component={SearchResVideos}></Route>\r\n          <Route path='/s/songlists' component={SearchResSongs}></Route>\r\n          <Route path='/s/lyrics' component={SearchResSongs}></Route>\r\n          <Route path='/s/users' component={SearchResSongs}></Route>\r\n\r\n        </Switch>\r\n        {/* <SearchResSongs /> */}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default connect(\r\n  state => ({}),\r\n  {\r\n    search:createSearchAction,\r\n  }\r\n)(SearchResPage)"]},"metadata":{},"sourceType":"module"}