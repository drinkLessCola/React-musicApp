{"ast":null,"code":"import _classCallCheck from\"E:/js/react/music-app/React-musicApp/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"E:/js/react/music-app/React-musicApp/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"E:/js/react/music-app/React-musicApp/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"E:/js/react/music-app/React-musicApp/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import'./index.css';import{connect}from'react-redux';import{addNewSongAction}from'../../../../Redux/actions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchResSongs=/*#__PURE__*/function(_Component){_inherits(SearchResSongs,_Component);var _super=_createSuper(SearchResSongs);function SearchResSongs(){var _this;_classCallCheck(this,SearchResSongs);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.addSongToList=function(e){var target=e.target.closest('tr');var id=target.id;_this.props.addNewSongAction(id);};return _this;}_createClass(SearchResSongs,[{key:\"timeFormat\",value:// componentDidMount(){\n// PubSub.subscribe('search',(_,result)=>{\n//   console.log('sub',result);\n//   this.setState({\n//     songs:result.songs,\n//   })\n// })\n// }\nfunction timeFormat(time){time/=1000;var min=Math.floor(time/60),sec=time%60;return(\"0\"+min).slice(-2)+\":\"+(\"0\"+sec).slice(-2);}},{key:\"render\",value:function render(){var _this2=this;var songs=this.props.songs||[];console.log('ResSongs',songs);return/*#__PURE__*/_jsx(\"div\",{className:\"SearchResSongs\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"list-idx\"}),/*#__PURE__*/_jsx(\"td\",{className:\"list-func\"}),/*#__PURE__*/_jsx(\"td\",{className:\"list-name\",children:\"\\u97F3\\u4E50\\u6807\\u9898\"}),/*#__PURE__*/_jsx(\"td\",{className:\"list-artists\",children:\"\\u6B4C\\u624B\"}),/*#__PURE__*/_jsx(\"td\",{className:\"list-album\",children:\"\\u4E13\\u8F91\"}),/*#__PURE__*/_jsx(\"td\",{className:\"list-time\",children:\"\\u65F6\\u957F\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{onDoubleClick:this.addSongToList,children:songs.length?songs.map(function(s,idx){return/*#__PURE__*/_jsxs(\"tr\",{id:s.id,children:[/*#__PURE__*/_jsx(\"td\",{className:\"list-idx\",children:idx+1<10?'0'+(idx+1):idx+1}),/*#__PURE__*/_jsx(\"td\",{className:\"list-func\"}),/*#__PURE__*/_jsx(\"td\",{className:\"list-name\",children:s.name}),/*#__PURE__*/_jsx(\"td\",{className:\"list-artists\",children:s.artists[0].name}),/*#__PURE__*/_jsx(\"td\",{className:\"list-album\",children:s.album.name}),/*#__PURE__*/_jsx(\"td\",{className:\"list-time\",children:_this2.timeFormat(s.duration)})]},s.id);}):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{children:\"\\u52A0\\u8F7D\\u4E2D\"})})})]})});}}]);return SearchResSongs;}(Component);// mapStateToProps\n// mapDispatchToProps\nexport default connect(function(state){return{songs:state.songs};},{addNewSongAction:addNewSongAction})(SearchResSongs);","map":{"version":3,"sources":["E:/js/react/music-app/React-musicApp/src/Component/Main/SearchResPage/SearchResSongs/index.jsx"],"names":["React","Component","connect","addNewSongAction","SearchResSongs","addSongToList","e","target","closest","id","props","time","min","Math","floor","sec","slice","songs","console","log","length","map","s","idx","name","artists","album","timeFormat","duration","state"],"mappings":"wdAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,aAAP,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,gBAAT,KAAiC,2BAAjC,C,2FACMC,CAAAA,c,2VAiBJC,a,CAAgB,SAACC,CAAD,CAAO,CACrB,GAAMC,CAAAA,MAAM,CAAGD,CAAC,CAACC,MAAF,CAASC,OAAT,CAAiB,IAAjB,CAAf,CACA,GAAMC,CAAAA,EAAE,CAAGF,MAAM,CAACE,EAAlB,CACA,MAAKC,KAAL,CAAWP,gBAAX,CAA4BM,EAA5B,EACD,C,oEAnBD;AACE;AACA;AACA;AACA;AACA;AACA;AACF;AAEA,oBAAWE,IAAX,CAAiB,CACfA,IAAI,EAAI,IAAR,CACA,GAAIC,CAAAA,GAAG,CAAGC,IAAI,CAACC,KAAL,CAAWH,IAAI,CAAG,EAAlB,CAAV,CACEI,GAAG,CAAGJ,IAAI,CAAG,EADf,CAEA,MAAO,CAAC,IAAMC,GAAP,EAAYI,KAAZ,CAAkB,CAAC,CAAnB,EAAwB,GAAxB,CAA8B,CAAC,IAAMD,GAAP,EAAYC,KAAZ,CAAkB,CAAC,CAAnB,CAArC,CACD,C,sBAMD,iBAAS,iBACP,GAAIC,CAAAA,KAAK,CAAG,KAAKP,KAAL,CAAWO,KAAX,EAAoB,EAAhC,CACAC,OAAO,CAACC,GAAR,CAAY,UAAZ,CAAuBF,KAAvB,EACA,mBACE,YAAK,SAAS,CAAC,gBAAf,uBACE,sCACE,oCACE,mCACE,WAAI,SAAS,CAAC,UAAd,EADF,cAEE,WAAI,SAAS,CAAC,WAAd,EAFF,cAGE,WAAI,SAAS,CAAC,WAAd,sCAHF,cAIE,WAAI,SAAS,CAAC,cAAd,0BAJF,cAKE,WAAI,SAAS,CAAC,YAAd,0BALF,cAME,WAAI,SAAS,CAAC,WAAd,0BANF,GADF,EADF,cAWE,cAAO,aAAa,CAAE,KAAKZ,aAA3B,UACGY,KAAK,CAACG,MAAN,CAAeH,KAAK,CAACI,GAAN,CAAU,SAACC,CAAD,CAAIC,GAAJ,CAAY,CAEpC,mBACE,YAAe,EAAE,CAAED,CAAC,CAACb,EAArB,wBACE,WAAI,SAAS,CAAC,UAAd,UAA2Bc,GAAG,CAAC,CAAJ,CAAQ,EAAT,CAAc,KAAOA,GAAG,CAAC,CAAX,CAAd,CAA8BA,GAAG,CAAC,CAA5D,EADF,cAEE,WAAI,SAAS,CAAC,WAAd,EAFF,cAGE,WAAI,SAAS,CAAC,WAAd,UAA2BD,CAAC,CAACE,IAA7B,EAHF,cAIE,WAAI,SAAS,CAAC,cAAd,UAA8BF,CAAC,CAACG,OAAF,CAAU,CAAV,EAAaD,IAA3C,EAJF,cAKE,WAAI,SAAS,CAAC,YAAd,UAA4BF,CAAC,CAACI,KAAF,CAAQF,IAApC,EALF,cAME,WAAI,SAAS,CAAC,WAAd,UAA2B,MAAI,CAACG,UAAL,CAAgBL,CAAC,CAACM,QAAlB,CAA3B,EANF,GAASN,CAAC,CAACb,EAAX,CADF,CAUD,CAZe,CAAf,cAYI,iCAAI,0CAAJ,EAbP,EAXF,GADF,EADF,CA+BD,C,4BAxD0BR,S,EA2D7B;AACA;AACA,cAAeC,CAAAA,OAAO,CACpB,SAAA2B,KAAK,QAAK,CAACZ,KAAK,CAACY,KAAK,CAACZ,KAAb,CAAL,EADe,CAEpB,CACEd,gBAAgB,CAAhBA,gBADF,CAFoB,CAAP,CAKbC,cALa,CAAf","sourcesContent":["import React, { Component } from 'react'\r\nimport './index.css';\r\nimport { connect } from 'react-redux';\r\nimport { addNewSongAction } from '../../../../Redux/actions';\r\nclass SearchResSongs extends Component {\r\n\r\n  // componentDidMount(){\r\n    // PubSub.subscribe('search',(_,result)=>{\r\n    //   console.log('sub',result);\r\n    //   this.setState({\r\n    //     songs:result.songs,\r\n    //   })\r\n    // })\r\n  // }\r\n\r\n  timeFormat(time) {\r\n    time /= 1000;\r\n    let min = Math.floor(time / 60),\r\n      sec = time % 60;\r\n    return (\"0\" + min).slice(-2) + \":\" + (\"0\" + sec).slice(-2);\r\n  }\r\n  addSongToList = (e) => {\r\n    const target = e.target.closest('tr');\r\n    const id = target.id;\r\n    this.props.addNewSongAction(id);\r\n  }\r\n  render() {\r\n    let songs = this.props.songs || [];\r\n    console.log('ResSongs',songs);\r\n    return (\r\n      <div className='SearchResSongs'>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <td className='list-idx'></td>\r\n              <td className='list-func'></td>\r\n              <td className='list-name'>音乐标题</td>\r\n              <td className='list-artists'>歌手</td>\r\n              <td className='list-album'>专辑</td>\r\n              <td className='list-time'>时长</td>\r\n            </tr>\r\n          </thead>\r\n          <tbody onDoubleClick={this.addSongToList}>\r\n            {songs.length ? songs.map((s, idx) => {\r\n              \r\n              return (\r\n                <tr key={s.id} id={s.id}>\r\n                  <td className='list-idx'>{(idx+1 < 10)? '0' + (idx+1) : idx+1}</td>\r\n                  <td className='list-func'></td>\r\n                  <td className='list-name'>{s.name}</td>\r\n                  <td className='list-artists'>{s.artists[0].name}</td>\r\n                  <td className='list-album'>{s.album.name}</td>\r\n                  <td className='list-time'>{this.timeFormat(s.duration)}</td>\r\n                </tr>\r\n              )\r\n            }) : <tr><td>加载中</td></tr>}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n// mapStateToProps\r\n// mapDispatchToProps\r\nexport default connect(\r\n  state => ({songs:state.songs}),\r\n  {\r\n    addNewSongAction,\r\n  }\r\n)(SearchResSongs)"]},"metadata":{},"sourceType":"module"}