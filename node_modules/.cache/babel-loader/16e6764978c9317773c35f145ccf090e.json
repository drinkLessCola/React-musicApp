{"ast":null,"code":"import _classCallCheck from\"E:/js/react/music-app/React-musicApp/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"E:/js/react/music-app/React-musicApp/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"E:/js/react/music-app/React-musicApp/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"E:/js/react/music-app/React-musicApp/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import SearchIcon from'../../../Icons/SearchIcon';import{createSearchAction}from'../../../Redux/actions';import{withRouter}from'react-router-dom';import{connect}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=/*#__PURE__*/function(_Component){_inherits(Search,_Component);var _super=_createSuper(Search);function Search(){var _this;_classCallCheck(this,Search);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.handleKeyDown=function(event){if(event.key!='Enter')return;console.log('Enter');var value=event.target.value;// debug了很久的一个问题，如何在一般组件中实现跳转，\n// 使用 withRouter\n// 传递 search 参数？前面不要打斜线\n// this.getSongs(value)\n_this.getData(value,'songs');_this.props.history.push(\"/s/songs?search=\".concat(value));};return _this;}_createClass(Search,[{key:\"getData\",value:function getData(value,type){this.props.search(type,value);}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"Search\",children:[/*#__PURE__*/_jsx(SearchIcon,{}),/*#__PURE__*/_jsx(\"input\",{onKeyDown:this.handleKeyDown})]});}}]);return Search;}(Component);// withRouter 和 connect 一起使用！！\nexport default withRouter(connect(function(state){return{};},{search:createSearchAction})(Search));","map":{"version":3,"sources":["E:/js/react/music-app/React-musicApp/src/Component/Header/Search/index.jsx"],"names":["React","Component","SearchIcon","createSearchAction","withRouter","connect","Search","handleKeyDown","event","key","console","log","value","target","getData","props","history","push","type","search","state"],"mappings":"wdAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,UAAP,KAAuB,2BAAvB,CACA,OAASC,kBAAT,KAAmC,wBAAnC,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAAQC,OAAR,KAAsB,aAAtB,C,2FACMC,CAAAA,M,2TAMJC,a,CAAgB,SAACC,KAAD,CAAU,CACxB,GAAGA,KAAK,CAACC,GAAN,EAAa,OAAhB,CAAyB,OACzBC,OAAO,CAACC,GAAR,CAAY,OAAZ,EACA,GAAMC,CAAAA,KAAK,CAAGJ,KAAK,CAACK,MAAN,CAAaD,KAA3B,CACA;AACA;AACA;AACA;AACA,MAAKE,OAAL,CAAaF,KAAb,CAAmB,OAAnB,EACA,MAAKG,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,2BAA2CL,KAA3C,GACD,C,yDAdD,iBAAQA,KAAR,CAAeM,IAAf,CAAoB,CAClB,KAAKH,KAAL,CAAWI,MAAX,CAAkBD,IAAlB,CAAwBN,KAAxB,EACD,C,sBAaD,iBAAS,CACP,mBACE,aAAK,SAAS,CAAC,QAAf,wBACE,KAAC,UAAD,IADF,cAEE,cAAO,SAAS,CAAE,KAAKL,aAAvB,EAFF,GADF,CAMD,C,oBAxBkBN,S,EA2BrB;AACA,cAAeG,CAAAA,UAAU,CAACC,OAAO,CAC/B,SAAAe,KAAK,QAAK,EAAL,EAD0B,CAE/B,CACED,MAAM,CAAChB,kBADT,CAF+B,CAAP,CAKxBG,MALwB,CAAD,CAAzB","sourcesContent":["import React, { Component } from 'react'\r\nimport SearchIcon from '../../../Icons/SearchIcon'\r\nimport { createSearchAction } from '../../../Redux/actions';\r\nimport { withRouter } from 'react-router-dom';\r\nimport {connect} from 'react-redux'\r\nclass Search extends Component {\r\n\r\n  getData(value, type){\r\n    this.props.search(type, value);\r\n  }\r\n\r\n  handleKeyDown = (event) =>{\r\n    if(event.key != 'Enter') return;\r\n    console.log('Enter');\r\n    const value = event.target.value;\r\n    // debug了很久的一个问题，如何在一般组件中实现跳转，\r\n    // 使用 withRouter\r\n    // 传递 search 参数？前面不要打斜线\r\n    // this.getSongs(value)\r\n    this.getData(value,'songs');\r\n    this.props.history.push(`/s/songs?search=${value}`);\r\n  }\r\n  render() {\r\n    return (\r\n      <div className='Search'>\r\n        <SearchIcon />\r\n        <input onKeyDown={this.handleKeyDown}></input>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n// withRouter 和 connect 一起使用！！\r\nexport default withRouter(connect(\r\n  state => ({}),\r\n  {\r\n    search:createSearchAction,\r\n  }\r\n)(Search));\r\n"]},"metadata":{},"sourceType":"module"}